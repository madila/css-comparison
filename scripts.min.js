function renderMap(){var e=new google.maps.Geocoder,t=jQuery,o=t(".google-map");o.each(function(){var o=t(this);if(o.is("[data-address]")){var n=new google.maps.LatLng(0,0),i=!("ontouchstart"in document.documentElement),a={center:n,zoom:16,draggable:i,scrollwheel:!1},r=new google.maps.Map(this,a);this.google_map=r,this.google_map_center=n;var s=o.data("address"),l=this,c=o.data("icon"),d=new Image;d.src=c,d.onload=function(){e.geocode({address:s},function(e,t){if(t==google.maps.GeocoderStatus.OK){r.setCenter(e[0].geometry.location),l.google_map_center=e[0].geometry.location,console.log(d.width,d.height);new google.maps.Marker({map:r,position:e[0].geometry.location,icon:{url:c,anchor:new google.maps.Point(d.width/2,d.height),size:new google.maps.Size(d.width,d.height),origin:new google.maps.Point(0,0)}})}else console.log("failed to locate")})}}else{var r=new google.maps.Map(this,{center:{lat:t(this).data("lat"),lng:t(this).data("lng")},zoom:16}),c=o.data("icon");new google.maps.Marker({map:r,position:{lat:t(this).data("lat"),lng:t(this).data("lng")},icon:{url:c,anchor:new google.maps.Point(8,130),size:new google.maps.Size(151,135),origin:new google.maps.Point(0,0)}});this.google_map=r,this.google_map_center={lat:t(this).data("lat"),lng:t(this).data("lng")}}}),google.maps.event.addDomListener(window,"resize",function(){o.each(function(){this.google_map.setCenter(this.google_map_center)})})}function initMap(){var e=jQuery,t=e(".google-map");if(t.length>0){var o=e("#google-map-api");if(o.length>0)renderMap();else{var n=document.createElement("script");n.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3oaih_ncHtyFooWHeZKrLVAav_R3S5J4",n.type="text/javascript",n.async="true",n.id="google-map-api",n.onload=n.onreadystatechange=function(){renderMap()};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}}function throttle(e,t,o){t||(t=250);var n,i;return function(){var a=o||this,r=+new Date,s=arguments;n&&r<n+t?(clearTimeout(i),i=setTimeout(function(){n=r,e.apply(a,s)},t)):(n=r,e.apply(a,s))}}function initiateSmoothState(){var e={prefetch:!0,cacheLength:2,debug:!0,forms:".search-form",blacklist:'.no-transit, .gallery a, .no-transit a, a[target="_new"], a[rel="lightbox"], a[target="_blank"]',alterRequest:function(e){return e},onStart:{duration:800,render:function(e){e.addClass("is-exiting"),jQuery("html, body").animate({scrollTop:0},400),smoothState.restartCSSAnimations(),console.log("Loaded 1")}},onProgress:{duration:400,render:function(e){jQuery("html").addClass("is-loading"),console.log("Loaded 2")}},onReady:{duration:800,render:function(e,t){e.html(t),e.removeClass("is-exiting").addClass("is-entering"),jQuery(document).trigger("SiteRefresh"),console.log("Loaded 3")}},onAfter:function(e,t){e.removeClass("is-entering is-reversing"),jQuery("html").removeClass("is-loading")}};smoothState=jQuery("#site-canvas").smoothState(e).data("smoothState"),window.onpopstate=function(e){if(jQuery("#site-canvas").addClass("is-reversing"),null!==e.state){var t=window.location.href,o=jQuery("#"+e.state.id),n=o.data("smoothState");n.href===t||jQuery.smoothStateUtility.isHash(t,n.href)||n.load(t,!1)}}}jQuery.noConflict(),function(e){e(function(){window.fbAsyncInit=function(){FB.init({appId:"632855303452563",xfbml:!0,version:"v2.5"})},e(window).load(function(){!function(t,o){var n,i=t.getElementsByTagName(o)[0],a=function(a,r){t.getElementById(r)||(n=t.createElement(o),n.src=a,n.async=!0,n.onload=n.onreadystatechange=function(){e(document).trigger(r+"-loaded",[r])},r&&(n.id=r),i.parentNode.insertBefore(n,i))};a("//platform.twitter.com/widgets.js","twitter-wjs"),a("//www.google-analytics.com/analytics.js","ga")}(document,"script")}),e(document).on("adsbygoogle-loaded",function(){}),e(document).on("ga-loaded",function(){ga("create","UA-85042710-1","other.co.uk"),ga("send","pageview")}),e(document).on("twitter-wjs-loaded",function(){window.twttr.events.bind("rendered",function(t){var o=e(".blog-masonry");o.length>0&&o.masonry({itemSelector:"article.post"})})}),e(document).on("SiteReady SiteRefresh",function(){window.ga&&(ga("set","page",window.location.href),ga("send","pageview")),window.twttr&&window.twttr.widgets.load()})})}(jQuery),jQuery(document).ready(function(e){e(".btn-down.reverse-up").on("click",function(t){t.preventDefault();var o=e(this).data("target"),n=e(o);if(console.log(n),n.length>0){var i=n.offset().top;e("html, body").animate({scrollTop:i-100},300)}})}),jQuery.noConflict(),function(e){e(function(){e(document).on("SiteRefresh SiteReady",function(){e('.dropdown-menu a[data-toggle="collapse"]').on("click",function(t){var o=e(this).data("target");e(o).collapse("hide")})})})}(jQuery);var $google_maps;jQuery(window).on("SiteReady SiteRefresh",function(){initMap()}),jQuery.noConflict(),function(e){e(function(){e(document).on("SiteRefresh SiteReady",function(){var t=e(".blog-masonry");t.length>0&&t.masonry({itemSelector:"article.post"})})})}(jQuery),function(e){e(function(){function t(t){var o=e("section[id]"),i=null,a=!1,r=e(window).scrollTop();if(r>100&&0==n?(e("body").addClass("site-scrolled"),n=!0):r<=100&&1==n&&(e("body").removeClass("site-scrolled"),n=!1),o.each(function(){var t=e(this);t.visible(!0)&&(a=!0,i=t)}),a||(i=null),null!=i){if(!i.hasClass("active")){var s=i.attr("id");o.removeClass("active");var l=e('.nav-link[href="#'+s+'"]');if(l.length>0){var c=l.parent("li"),d=c.parents("ul").find("li");d.removeClass("active"),c.addClass("active")}else e("#site-navigation").find(".active").removeClass("active");i.addClass("active")}}else o.removeClass("active"),e("#site-navigation").find(".active").removeClass("active")}function o(t){t.preventDefault();var o=e(this).attr("href"),n=e(o);if(n.length>0){var i=n.offset().top;e("html, body").animate({scrollTop:i-50},300)}}var n=!1;e(window).on("SiteReady SiteRefresh",function(){scrollElement=e("html, body"),e(window).on("scroll",t),e("#site-navigation").find('a[href^="#"]').on("click",o),e("a[data-scroll]").on("click",o)}),e(window).on("SiteRefresh",function(){e("[unresolved]").removeAttr("unresolved")})})}(jQuery),window.appbrowser={},function(){for(var e=0,t=["ms","moz","webkit","o"],o=0;o<t.length&&!window.requestAnimationFrame;++o)window.requestAnimationFrame=window[t[o]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[o]+"CancelAnimationFrame"]||window[t[o]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,o){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),a=window.setTimeout(function(){t(n+i)},i);return e=n+i,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var hasPrefix=function(){var e=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],o="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:o,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}},detectIE=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);var o=e.indexOf("Trident/");if(o>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},version=detectIE();version===!1?(window.appbrowser.name=!1,window.appbrowser.version=!1):version>=12?(window.appbrowser.name="Edge",window.appbrowser.version=version):(window.appbrowser.name="IE",window.appbrowser.version=version),window.appbrowser.prefix=hasPrefix(),jQuery.noConflict(),function(e){e(function(){function t(e){e.wheelDelta?delta=e.wheelDelta/120:e.detail&&(delta=-e.detail/3),o(),e.preventDefault&&e.preventDefault(),e.returnValue=!1}function o(){e("html, body").stop().animate({scrollTop:e(window).scrollTop()-i*delta},n)}var n=200,i=400,a=function(){window.appbrowser.name&&window.appbrowser.version&&(window.addEventListener&&window.addEventListener("DOMMouseScroll",t,!1),window.onmousewheel=document.onmousewheel=t,e(document).keydown(function(t){switch(t.which){case 38:t.preventDefault(),e("html, body").stop().animate({scrollTop:e(window).scrollTop()-i},n);break;case 40:t.preventDefault(),e("html, body").stop().animate({scrollTop:e(window).scrollTop()+i},n)}}))},r=function(e,t,o,n,i){if(e.length>0&&t.length>0){var a=t.height(),r=t.offset().top;if(n>r&&o<r+a){var s=o-t.offset().top,l=s/a;i(e,l,t)}}};e(window).on("SiteReady SiteRefresh",function(){a()}),e(window).on("SiteReady SiteRefresh",function(){console.log(window.appbrowser.prefix.css);var t=e("#landing"),o=e("#our-work"),n=e("#blog"),i=e("#playground"),a=[{parent:t,selector:".scene",callback:function(e,t,o){window.requestAnimationFrame(function(){e.find(".entry-content").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.4)+"px, 0px"),e.find(".twenty-ani").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.35)+"px, 0px"),e.find(".bg-clouds-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.2)+"px, 0px"),e.find(".bg-clouds-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(.1*o.height())+"px, 0px"),e.find(".bg-wrapper-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(.1*o.height())+"px, 0px"),e.find(".bg-wrapper-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(.25*o.height())+"px, 0px")})}},{parent:o,selector:".scene",callback:function(e,t,o){window.requestAnimationFrame(function(){e.find(".bg-clouds-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.4)+"px, 0px"),e.find(".bg-wrapper-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.5)+"px, 0px"),e.find(".bg-wrapper-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.35)+"px, 0px")})}},{parent:n,selector:".scene",callback:function(e,t,o){window.requestAnimationFrame(function(){e.find(".bg-clouds-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.3)+"px, 0px"),e.find(".bg-clouds-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.15)+"px, 0px"),e.find(".bg-wrapper-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.3)+"px, 0px"),e.find(".bg-wrapper-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.5)+"px, 0px")})}},{parent:i,selector:".scene",callback:function(e,t,o){window.requestAnimationFrame(function(){e.find(".bg-clouds-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.3)+"px, 0px"),e.find(".bg-clouds-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.15)+"px, 0px"),e.find(".bg-wrapper-one").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.4)+"px, 0px"),e.find(".bg-wrapper-two").css(window.appbrowser.prefix.css+"transform","translate3d(0px, "+t*(o.height()*-.5)+"px, 0px")})}}];e(window).on("scroll",throttle(function(){for(var t=e(window).scrollTop(),o=t+window.outerHeight,n=0,i=a.length;n<i;n++)r(a[n].parent.find(a[n].selector),a[n].parent,t,o,a[n].callback)},24)),e(window).on("resize",function(){window.outerWidth})})})}(jQuery),function(e){e(function(){e(window).on("SiteReady SiteRefresh",function(){e("#blog .blog-row").slick({slide:"article",prevArrow:'<button type="button" data-role="none" class="slick-prev slick-arrow" aria-label="Previous" role="button"><i class="icon chevron-white-left"></i></button>',nextArrow:'<button type="button" data-role="none" class="slick-next slick-arrow" aria-label="Next" role="button"><i class="icon chevron-white-right"></i></button>',infinite:!0,mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:545,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}}]});var t=e(".study-slider");t.length>0&&e(".study-slider").slick({slide:".study-slide",prevArrow:'<button type="button" data-role="none" class="slick-prev slick-arrow" aria-label="Previous" role="button"><i class="icon chevron-thin-left"></i></button>',nextArrow:'<button type="button" data-role="none" class="slick-next slick-arrow" aria-label="Next" role="button"><i class="icon chevron-thin-right"></i></button>',infinite:!1});var o=e("#our-work .grid-row");o.length>0&&(console.log(o),o.slick({slide:".grid-item",prevArrow:'<button type="button" data-role="none" class="slick-prev slick-arrow" aria-label="Previous" role="button"><i class="icon chevron-thin-left"></i></button>',nextArrow:'<button type="button" data-role="none" class="slick-next slick-arrow" aria-label="Next" role="button"><i class="icon chevron-thin-right"></i></button>',mobileFirst:!0,slidesToShow:1,slidesToScroll:1,responsive:[{breakpoint:767,settings:"unslick"},{breakpoint:625,settings:{slidesToShow:3,slidesToScroll:3}}]}),e(window).on("resize",e.throttle(50,function(){window.innerWidth<767&&!o.hasClass("slick-initialized")&&o.slick("reinit")})))})})}(jQuery);var smoothState;!function(e){"use strict";jQuery(window).load(function(){e(document).trigger("SiteReady")}),e(document).ready(function(){initiateSmoothState()})}(jQuery),jQuery(document).ready(function(e){e("#play-142 a").on("click",function(t){t.preventDefault();var o=e(this),n=o.parents(".play-item"),i=o.find(".definition");i.removeClass("in"),n.addClass("spin"),e(".island-element-4").addClass("fade"),setTimeout(function(){n.removeClass("spin")},4e3),e.ajax({url:ajaxparams.ajaxurl,dataType:"json",data:{action:"definition_ajax_request"},success:function(t){console.log(t[0]);var o='<div class="spinner-lights"></div><i class="flying-dictionary"></i><h2>'+t[0].post_title+"</h2><p>"+t[0].post_content+'</p><i class="icon spin-again"></i>';console.log(o),i.empty(),e(o).appendTo(i),i.addClass("in")},error:function(e){n.removeClass("spin"),console.log(e)}})})}),function(e){var t=e(window);e.fn.visible=function(e,o,n){if(!(this.length<1)){var i=this.length>1?this.eq(0):this,a=i.get(0),r=t.width(),s=.85*t.height(),l=n?n:"both",c=o!==!0||a.offsetWidth*a.offsetHeight;if("function"==typeof a.getBoundingClientRect){var d=a.getBoundingClientRect(),p=d.top>=0&&d.top<s,w=d.bottom>0&&d.bottom<=s,u=d.left>=0&&d.left<r,f=d.right>0&&d.right<=r,g=e?p||w:p&&w,h=e?u||f:u&&f;if("both"===l)return c&&g&&h;if("vertical"===l)return c&&g;if("horizontal"===l)return c&&h}else{var m=t.scrollTop()-150,v=m+s,b=t.scrollLeft(),x=b+r,y=i.offset(),S=y.top,k=S+i.height(),j=y.left,C=j+i.width(),T=e===!0?k:S,A=e===!0?S:k,R=e===!0?C:j,Q=e===!0?j:C;if("both"===l)return!!c&&A<=v&&T>=m&&Q<=x&&R>=b;if("vertical"===l)return!!c&&A<=v&&T>=m;if("horizontal"===l)return!!c&&Q<=x&&R>=b}}}}(jQuery);
